Z:"630检查"=0000000a
 SEND,connect dbmgr/a9603fb1\\r,dbmgr,,
 SEND,sqlplus 'dbadm/1b776521'\\r\\p\r\nset linesize 3000\\r\r\nset pagesize 300\\r\r\nset time on\\r\r\nset timing on\\r\r\nset wrap off\\r\r\nset sqlprompt "_user'@'_connect_identifier>"\\r,dbadm,,
 SEND,select dbid from v$database;\\r\r\nselect * from v$version order by 1; \\r\r\nselect userenv('language') from dual;\\r\r\nselect value from v$nls_parameters where PARAMETER like '%CHARACTERSET%';\\r\r\nshow parameter db_unique;\\r\r\nshow parameter instance_name;\\r\r\nshow parameter service_names;\\r\r\nshow parameter db_name;\\r\r\nshow parameter _listener\\r\r\nselect  startup_time\,status\,logins\,database_status  from v$instance;\\r\r\nshow parameter dump\\r\r\ncol value for a50 \\r\r\ncol name for a40 \\r\r\nselect name\, value from v$parameter where name like '%dest%' and value is not null order by name; \\r\r\n\\r\r\n,parameter,,
 SEND,show parameter sga;\\r\r\nshow parameter db_cache_size;\\r\r\nshow parameter pool;\\r\r\nshow parameter pga;\\r\r\nselect name\,value/1024/1024 MB from v$pgastat where name in ('aggregate PGA target parameter'\,'aggregate PGA auto target'\,'total PGA inuse'\,'total PGA allocated') order by 1;\\r\r\nselect name\,value from v$pgastat where name in ('over allocation count'\,'extra bytes readwritten'\,'cache hit percentage') order by 1;\\r\r\n,sga+pga,,
 SEND,SELECT *                                              \\r\r\nFROM (                                                \\r\r\nSELECT total.tablespace_name\,                         \\r\r\n       Round(total.GB\, 2)           AS Total_GB\,      \\r\r\n       Round(total.GB - free.GB\, 2) AS Used_GB\,       \\r\r\n       Round(free.GB\, 2)            AS Free_GB\,       \\r\r\n       	   Round(( 1 - free.GB / total.GB ) * 100\, 2) \\r   \r\n                              AS Used_Pct             \\r\r\nFROM   (SELECT tablespace_name\,                       \\r\r\n               Sum(bytes) / 1024 / 1024 / 1024 AS GB  \\r  \r\n        FROM   dba_free_space                         \\r\r\n        GROUP  BY tablespace_name) free\,              \\r\r\n       (SELECT tablespace_name\,                       \\r\r\n               Sum(bytes) / 1024 / 1024 / 1024 AS GB  \\r  \r\n        FROM   dba_data_files                         \\r\r\n        GROUP  BY tablespace_name) total              \\r\r\nWHERE  free.tablespace_name = total.tablespace_name   \\r \r\n)                                                     \\r\r\nWHERE Used_Pct > 80                                   \\r\r\nORDER BY 5 DESC ;                                     \\r\r\n,tbs > 80%,,
 SEND,set pagesize 2000 \\r\r\nset linesize 150  \\r\r\ncol member for a50 \\r\r\nselect g.group#\, g.thread#\,g.status\, \\r\r\nf.member\, g.members\, g.bytes/1024/1024 MB \\r \r\nfrom v$log g\, v$logfile f \\r\r\nwhere g.group#=f.group# \\r\r\norder by 1 \\r\r\n; \\r\r\nwith a as (                                                                                           \\r\r\nselect FIRST_TIME\, BLOCKS*BLOCK_SIZE bytes                                                            \\r\r\nfrom v$archived_log                                                                                   \\r\r\nwhere  FIRST_TIME > trunc(sysdate - 7)                                                                \\r\r\n)                                                                                                     \\r\r\nselect TO_CHAR(FIRST_TIME\, 'yyyymmdd:hh24') DATETIME\, round(sum(bytes/1024/1024/1024)\,2) GB\, count(*) \\r\r\nfrom a                                                                                                \\r\r\ngroup by TO_CHAR(FIRST_TIME\, 'yyyymmdd:hh24')                                                         \\r\r\nORDER BY TO_CHAR(FIRST_TIME\, 'yyyymmdd:hh24')                                                         \\r\r\n;\\r\r\n,redo info,,
 SEND,alter session set nls_date_format='dd-mon-yy'; \\r\r\nset lines 160 pages 1000 echo off feedback off \\r\r\ncol stat_name for a25 \\r\r\ncol date_time for a40 \\r\r\ncol BEGIN_INTERVAL_TIME for a20 \\r\r\ncol END_INTERVAL_TIME for a20 \\r\r\n\r\nWITH sysstat AS \\r\r\n ( select sn.begin_interval_time begin_interval_time\, \\r\r\n         sn.end_interval_time end_interval_time\, \\r\r\n         ss.stat_name stat_name\, \\r\r\n         ss.value e_value\, \\r\r\n         lag(ss.value\, 1) over(order by ss.snap_id) b_value\, \\r\r\n         ss.snap_id snap_id\\r\r\n    from dba_hist_sys_time_model ss\, dba_hist_snapshot sn \\r\r\n   where  ss.snap_id = sn.snap_id \\r\r\n     and ss.dbid = sn.dbid \\r\r\n     and ss.instance_number = sn.instance_number \\r\r\n     and ss.dbid = (select dbid from v$database) \\r\r\n     and ss.instance_number = (select instance_number from v$instance) \\r\r\n     and ss.stat_name = 'DB time') \\r\r\nselect snap_id\, to_char(BEGIN_INTERVAL_TIME\, 'mm/dd/yy_hh24_mi') || to_char(END_INTERVAL_TIME\, '_hh24_mi') date_time\, \\r\r\nstat_name\, \\r\r\nround((e_value - nvl(b_value\,0))/1000000/60\,2) minutes \\r\r\nfrom sysstat where(e_value - nvl(b_value\,0)) > 0 and nvl(b_value\,0) > 0 \\r\r\nand BEGIN_INTERVAL_TIME > trunc(sysdate - 7) \\r\r\n/ \\r\r\n\\r,db time,,
 SEND,SELECT wait_class\, sum(time_waited)/100 seconds \\r\r\n  FROM v$system_event f \\r\r\nWHERE wait_class NOT IN ('Idle') \\r\r\nGROUP BY wait_class \\r\r\nORDER BY 2 DESC \\r\r\n/ \\r\r\n\\r,wait class,,
 SEND,ps -ef|grep -E 'pmon|tns|db2sysc|informix'|grep -v grep|sort\\r,查看数据库,,
 SEND,set linesize 300 pagesize 900                              \\r\r\nSELECT tablespace_name\,total_gb\,free_gb\,used_pct                                                   \\r\r\nFROM (                                                     \\r\r\nSELECT total.tablespace_name\,                              \\r\r\n       Round(total.GB\, 2)           AS Total_GB\,           \\r\r\n       Round(total.GB - free.GB\, 2) AS Used_GB\,            \\r\r\n       Round(free.GB\, 2)            AS Free_GB\,            \\r\r\n       	   Round(( 1 - free.GB / total.GB ) * 100\, 2)      \\r\r\n                              AS Used_Pct                  \\r\r\nFROM   (SELECT tablespace_name\,                            \\r\r\n               Sum(bytes) / 1024 / 1024 / 1024 AS GB       \\r\r\n        FROM   dba_free_space                              \\r\r\n        GROUP  BY tablespace_name) free\,                   \\r\r\n       (SELECT tablespace_name\,                            \\r\r\n               Sum(bytes) / 1024 / 1024 / 1024 AS GB       \\r\r\n        FROM   dba_data_files                              \\r\r\n        GROUP  BY tablespace_name) total                   \\r\r\nWHERE  free.tablespace_name = total.tablespace_name        \\r\r\n)                                                          \\r\r\nWHERE Used_Pct > 85                                        \\r\r\nand    Free_GB < 400                                       \\r\r\nORDER BY free_gb DESC ;                                          \\r,400G 85%,,
Z:"AIX"=00000004
 SEND,for i in `lspv|grep rootvg|awk '{print $1}'`\\r\r\ndo\\r\r\nbosboot -ad $i\\r\r\ndone\\r\r\nbootlist -m normal -o `lspv|grep rootvg|awk '{print $1}'|awk -v ORS=" " '1'`\\r,bosboot,,
 SEND,\r\nfor i in `lscfg -vpl fcs*|grep fcs|awk '{print $1}'`\\r\r\ndo\\r\r\nfor j in `lscfg -vpl $i|grep -i network|cut -c 37-`\\r\r\ndo\\r\r\necho $i "    " `lscfg -vpl $i|grep fcs|awk '{print $2}'` "    " $j\\r\r\ndone\\r\r\ndone\\r,wwn,,
 SEND, /usr/opt/ifor/bin/i4config \\r,lincese,,
 SEND,installp -u bladelogic.rscd.rte-aix5.1\\r\\p\r\ncd /tmp\\r\\p\r\nftp -n 10.193.16.28<<EOF\\r\\p\r\nuser patrol Patrol28\\r\\p\r\nprompt\\r\\p\r\nbinary\\r\\p\r\nlcd /tmp\\r\\p\r\ncd RSCDAgent\\r\\p\r\nmget RSCD86-AIX32.bff\\r\\p\r\n\\r\r\nmget exports\\r\\p\r\n\\r\r\nmget users.local\\r\\p\r\n\\r\r\nclose\\r\\p\r\nbye\\r\\p\r\nEOF\\r\\p\r\nrm -rf /opt/bmc;mkdir -p /home/bbsa/bmc && ln -s /home/bbsa/bmc /opt\r\n&& installp -ac -d "RSCD86-AIX32.bff" bladelogic.rscd.rte-aix5.1\\r\\p\r\nmv user.local exports /etc/rsc\\r\\p,安装Agent,,
Z:"Default"=0000000a
 SEND,TMOUT=0\\r,TMOUT=0,,
 SEND,ps -ef|grep -E 'pmon|tns|db2sysc|informix'|grep -v grep|sort\\r,查数据库,,
 SEND,ulimit -a \\r,文件句柄,,
 SEND,sqlplus dbadm/1b776521\\r\\p\r\nset linesize 3000\\r\r\nset pagesize 300\\r\r\nshow parameter dump\\rselect userenv('language') from dual;\\r\r\nselect value from v$nls_parameters where PARAMETER like '%CHARACTERSET%';\\r\r\nselect name\,value from v$pgastat where name in ('aggregate PGA target parameter'\,'aggregate PGA auto target'\,'total PGA inuse'\,'total PGA allocated'\,'over allocation count'\,'extra bytes read/written'\,'cache hit percentage');\\r\r\nshow parameter sga;\\r\r\nshow parameter db_cache_size;\\r\r\nshow parameter pool;\\r\r\nshow parameter pga;\\r\r\nselect dbid from v$database;\\r\r\nshow parameter db_unique;\\r\r\nshow parameter instance_name;\\r\r\nshow parameter service_names;\\r\r\nshow parameter db_name;\\r\r\nshow parameter _listener\\r\r\nset time on\\r\r\nset timing on\\r\r\nset wrap off\\r\r\nselect  startup_time\,status\,logins\,database_status  from v$instance;\\r\r\nset sqlprompt "_user'@'_connect_identifier>"\\r,sqlplus,,
 SEND,export ORACLE_SID=,SID,,
 SEND,inetd -c \\r,inetd -c,,
 SEND,du -kx|sort -n \\r,du -kx|sort -n,,
 SEND,du -sk *|sort -n \\r,du -sk *,,
 SEND,ftp 10.193.16.86\\r\\p\r\nftpuser\\r\\p\r\ncewde3frtg\\r\\p\r\nbin\\r,ftp,,
 SEND,export DISPLAY=10.191.104.34:0.0\\r,DISPLAY,,
Z:"DG"=00000007
 SEND,select process\,status\,sequence# from v$managed_standby;\\r,gap,,
 SEND,set linesize 300 pagesize 900 \\r select name\,value\,datum_time from v$dataguard_stats;\\r,延迟11g,,
 SEND,set linesize 200 \\r\r\nset pagesize 900 \\r\r\nselect * from v$dataguard_stats; \\r\r\n\\r,延迟10g,,
 SEND,set linesize 300 pagesize 900 \\r select * from  V$MANAGED_STANDBY where process in ('MRP0'\,'RFS') order by process; \\r,mrp status,,
 SEND,set linesize 300 pagesize 900 \\r select process\, status\, thread#\,sequence#\, block#\, blocks from V$MANAGED_STANDBY where process in ('MRP0'\,'RFS') order by process; \\r,mrp2,,
 SEND,col current_scn for        999999999999999 \\r\r\ncol FIRST_CHANGE# for 999999999999999 \\r\r\nselect current_scn from v$database; \\r,current_scn,,
 SEND,3#qpla4$\\r,16.117pwd,,
Z:"hpvm"=00000005
 SEND,hpvmstatus -s \\r,hpvmstatus,,
 SEND,mpsched -s \\r,mpsched,,
 SEND,/usr/sbin/scsimgr -p get_attr all_ctlr -a device_file -a port_name -a protocol |grep fibre \\r,查看wwn,,
 SEND,/usr/sbin/scsimgr -p get_attr all_lun -a device_file -a wwid -a serial_number \\r,查存储序列号,,
 SEND,for i in `ioscan -funC fc|grep dev`\\r\r\ndo\\r\r\necho " "\\r\r\necho `echo $i|cut -c 6-`  "      " `fcmsutil $i|grep 'N_Port Port World Wide Name'`\\r\r\nfcmsutil $i|grep 'Driver state'\\r\r\nfcmsutil $i|grep 'Hardware Path is'\\r\r\necho " "\\r\r\ndone\\r,WWN,,
Z:"SQL1"=0000000a
 SEND,select username\,account_status from dba_users;\\r,USER_LOCK,,
 SEND,select owner\,sum(bytes)/1024/1024 MB from dba_segments where owner is not null group by owner order by sum(bytes);\\r,sum,,
 SEND,set lines 150 pages 150\\r\r\ncol BEGIN_INTERVAL_TIME for a23\\r\r\ncol PLAN_HASH_VALUE for 9999999999\\r\r\ncol date_time for a30\\r\r\ncol snap_id heading 'SnapId'\\r\r\ncol executions_delta heading "No. of exec"\\r\r\ncol sql_profile heading "SQL|Profile" for a7\\r\r\ncol date_time heading 'Date time'\\r\r\ncol avg_lio heading 'LIO/exec' for 99999999999.99\\r\r\ncol avg_cputime_s heading 'CPUTIM/exec' for 9999999.99\\r\r\ncol avg_etime_s heading 'ETIME/exec' for 9999999.99\\r\r\ncol avg_pio heading 'PIO/exec' for 99999999999.99\\r\r\ncol avg_row heading 'ROWs/exec' for 9999999.99\\r\r\nSELECT distinct\\r\r\ns.snap_id \,\\r\r\nPLAN_HASH_VALUE\,\\r\r\nto_char(s.BEGIN_INTERVAL_TIME\,'mm/dd/yy_hh24mi')|| to_char(s.END_INTERVAL_TIME\,'_hh24mi') Date_Time\,\\r\r\nSQL.executions_delta\,\\r\r\nSQL.buffer_gets_delta/decode(nvl(SQL.executions_delta\,0)\,0\,1\,SQL.executions_delta) avg_lio\, --SQL.ccwait_delta\,\\r\r\n(SQL.cpu_time_delta/1000000)/decode(nvl(SQL.executions_delta\,0)\,0\,1\,SQL.executions_delta) avg_cputime_s \,\\r\r\n(SQL.elapsed_time_delta/1000000)/decode(nvl(SQL.executions_delta\,0)\,0\,1\,SQL.executions_delta) avg_etime_s\,\\r\r\nSQL.DISK_READS_DELTA/decode(nvl(SQL.executions_delta\,0)\,0\,1\,SQL.executions_delta) avg_pio\,\\r\r\nSQL.rows_processed_total/decode(nvl(SQL.executions_delta\,0)\,0\,1\,SQL.executions_delta) avg_row12  --\,SQL.sql_profile\\r\r\nFROM\\r\r\ndba_hist_sqlstat SQL\,\\r\r\ndba_hist_snapshot s\\r\r\nWHERE\\r\r\nSQL.instance_number =(select instance_number from v$instance)\\r\r\nand SQL.dbid =(select dbid from v$database)\\r\r\nand s.snap_id = SQL.snap_id\\r\r\nAND sql_id in ('&SQLID') order by s.snap_id;\\r,sql_hist_stats,,
 SEND,  select * from table(dbms_xplan.display_awr('&sqlid'\,'&plan'\,null\,'advanced'));\\r,display_awr,,
 SEND,select * from table(dbms_xplan.display_cursor('&1'\,null\,'all')),display_cursor,,
 SEND,set linesize 200 pagesize 900 \\r\r\ncol owner for a15 \\r\r\ncol table_name for a20 \\r\r\ncol partition_name for a20 \\r\r\ncol subPARTITION_NAME for a20 \\r\r\ncol PARTITION_POSITION for 9999 \\r\r\ncol SUBPARTITION_POSITION for 9999 \\r\r\nselect * from dba_tab_statistics where table_name = upper('&table') order by PARTITION_NAME\, subPARTITION_NAME; \\r\r\n,table_stats,,
 SEND,set linesize 300 pagesize 900\\r select sql_text from v$sqltext where sql_id='&sqlid' order by piece;\\r,sqltext,,
 SEND,select START_TIME\,TIME_REMAINING\, ELAPSED_SECONDS\, message from v$session_longops  where sid=&sid and SERIAL#=&srial order by START_TIME;\\r,session_longops,,
 SEND,set linesize 200                                                                                        \\r\r\nset pagesize 2000                                                                                       \\r\r\ncol machine for a20                                                                                     \\r\r\ncol username for a20                                                                                    \\r\r\ncol event for a40                                                                                       \\r\r\ncol FORCE_MATCHING_SIGNATURE for 99999999999999999999999999                                             \\r\r\nselect sid\, sql_id\, FORCE_MATCHING_SIGNATURE\, plan_hash_value\, event\, username\, machine\, EXECUTIONS\,    \\r\r\navg_lio_mb                                                                                              \\r\r\n  from (select a.sql_id\,                                                                                \\r\r\n  b.FORCE_MATCHING_SIGNATURE\,                                                                           \\r\r\n               b.plan_hash_value\,                                                                       \\r\r\n               a.sid\,                                                                                   \\r\r\n               a.event\,                                                                                 \\r\r\n               a.username\,                                                                              \\r\r\n               a.machine\,                                                                               \\r\r\n               b.EXECUTIONS\,                                                                            \\r\r\n 			   round(case                                                                               \\r\r\n                       when b.EXECUTIONS = 0 then                                                       \\r\r\n                        b.BUFFER_GETS                                                                   \\r\r\n                       else                                                                             \\r\r\n                        b.BUFFER_GETS / b.EXECUTIONS                                                    \\r\r\n                     end * 8 / 1024\,                                                                    \\r\r\n                     2) avg_lio_mb                                                                      \\r\r\n          from v$session a\, v$sql b                                                                     \\r\r\n         where a.sql_id = b.sql_id                                                                      \\r\r\n           and a.SQL_CHILD_NUMBER = b.CHILD_NUMBER                                                      \\r\r\n           and a.sql_id is not null                                                                     \\r\r\n           and a.status = 'ACTIVE'                                                                      \\r\r\n         order by 9 desc)                                                                               \\r\r\n where rownum < 10;                                                                                     \\r\r\n \\r,buffer_gets,,
 SEND,select sql_id\, machine\, username\, count(*) from v$session where event='&event' \\r\r\ngroup by sql_id\, machine\, username \\r\r\norder by count(*); \\r,event+user+count,,
Z:"test"=00000003
 SEND,set linesize 1000\\r\r\nset pagesize 900\\r\r\ncol username for a10\\r\r\ncol event for a35\\r\r\ncol program for a20 truncate\\r\r\ncol module for a25\\r\r\ncol cpu_p for 99.99\\r\r\nselect ta.*\,round(ta.cpu_time/tb.total_cpu * 100\,1) cpu_usage from\\r\r\n(select s.username\,s.program\,s.module\,s.action\,s.event\,s.sql_id\,sum(trunc(m.CPU)) CPU_TIME\,count(*) sum\\r\r\n        --\,sum(m.PHYSICAL_READS) P_READ\,sum(LOGICAL_READS) L_READ\,\\r\r\n  from v$sessmetric m \,v$session s\\r\r\nwhere ( m.PHYSICAL_READS >100\\r\r\n       or m.CPU>100\\r\r\n       or m.LOGICAL_READS >100)\\r\r\n       and m.SESSION_ID = s.SID\\r\r\n       and m.SESSION_SERIAL_NUM = s.SERIAL#\\r\r\n       and s.status = 'ACTIVE'\\r\r\n       and username is not null\\r\r\ngroup by s.username\,s.program\,s.module\,s.action\,s.event\,s.sql_id\\r\r\norder by 5 desc) ta\,(select sum(cpu) total_cpu from v$sessmetric) tb\\r\r\nwhere rownum < 11;\\r,,,
 SEND,col client_name for a33\\r\r\nSELECT CLIENT_NAME\, STATUS\\r\r\nFROM   DBA_AUTOTASK_CLIENT\\r\r\nWHERE  CLIENT_NAME = 'auto optimizer stats collection';\\r,11g,,
 SEND,col job_name for a18\\r\r\ncol program_name for a19\\r\r\ncol SCHEDULE_NAME for a25\\r \r\nselect job_name\,program_name\,SCHEDULE_NAME\,enabled from dba_scheduler_jobs where job_name='GATHER_STATS_JOB';\\r,10g,,
Z:"性能调优"=0000000a
 SEND,set linesize 200 pagesize 900\\r\r\ncol event for a40 \\r SELECT event\,sum(decode(wait_time\,0\,1\,0))"Curr"\,sum(decode(wait_time\,0\,0\,1))"Prev"\,count(*)"Total" FROM v$session_wait GROUP BY event ORDER BY count(*);\\r,等待事件,,
 SEND,select status\,count(1) from v$session group by status;\\r,连接数,,
 SEND,select object_name\,s.sid\,s.serial# \\r\r\nfrom v$locked_object l\,dba_objects o \,v$session s \\r\r\nwhere l.object_id=o.object_id and l.session_id=s.sid order by s.sid; \\r,持有锁的对象,,
 SEND,select sid\,type\,lmode\,request\,ctime\,block from v$lock where type in ('TM'\,'TX') and ctime > 3600;\\r,TX锁,,
 SEND,select spid\, osuser\, s.program\\r\r\nfrom v$session s\,v$process p\\r\r\nwhere s.paddr=p.addr and s.sid=&sid;\\r,系统id号,,
 SEND,set linesize 150\\r\r\nset pagesize 900\\r\r\n\r\nselect dbid\, instance_number\, snap_id\, begin_interval_time from dba_hist_snapshot order by snap_id;\\r\r\n\r\n,dba_hist_snapshot,,
 SEND,@?/rdbms/admin/awrrpt.sql\\r,awrrpt,,
 SEND,sqlplus 'dbadm/1b776521'\\r\\p\r\nset pagesize 900 linesize 200\\r\r\n\\r,dbadm,,
 SEND,set linesize 200\\r\r\ncol spid for a15\\r\r\ncol username for a15\\r\r\ncol sql_text for a60\\r\r\nselect a.pid\, a.spid\, b.sid\, b.serial#\, b.username\,c.sql_id\,  c.sql_text from v$process a\, v$session b\, v$sqlarea c where a.addr = b.paddr and b.sql_address = c.address and a.spid = '&spid';\\r,spid ,,
 SEND,@?/rdbms/admin/ashrpt.sql\\r,ashrpt,,
Z:"性能调优2"=0000000a
 SEND,@?/rdbms/admin/awrddrpt.sql\\r,awrddrpt,,
 SEND,select * from table(dbms_xplan.display_cursor('&1'\,null\,'all')),dbms_xplan cursor,,
 SEND,set linesize 200\\r\r\ncol spid for a15\\r\r\ncol username for a15\\r\r\ncol sql_text for a60\\r\r\nselect a.pid\, a.spid\, b.sid\, b.serial#\, b.username\,c.sql_id\,  c.sql_text from v$process a\, v$session b\, v$sqlarea c where a.addr = b.paddr and b.sql_address = c.address and a.spid = '&spid';\\r,spid,,
 SEND,sqlplus 'dbadm/1b776521'\\r\\p\r\nset linesize 3000\\r\r\nset pagesize 300\\r\r\nset time on\\r\r\nset timing on\\r\r\nset sqlprompt "_user'@'_connect_identifier>"\\r,dbadm,,
 SEND,@?/rdbms/admin/awrsqrpt.sql\\r,awrsqrpt.sql,,
 SEND,set linesize 200 pagesize 900 \\r\r\ncol owner for a15 \\r\r\ncol table_name for a26 \\r\r\ncol partition_name for a26 \\r\r\nselect * from dba_tab_statistics where table_name = upper('&table'); \\r\r\n,table_stats,,
 SEND,select index_name\, index_type\,status\,TABLESPACE_NAME\, degree\, blevel\, leaf_blocks\, distinct_keys\, last_analyzed \\r\r\nfrom dba_indexes where table_name = upper('&table') order by 1; \\r\r\n,index_info,,
 SEND,set linesize 200 pagesize 900 \\r\r\ncol column_name for a30 \\r\r\nselect index_name\, table_name\, column_position\, column_name\, char_length\, descend from dba_ind_columns \\r\r\nwhere table_name =upper('&table') \\r\r\norder by index_name\, column_position\, column_name; \\r,index_column,,
 SEND,col owner for a15 \\r\r\ncol table_name for a15 \\r\r\ncol column_name for a10 \\r\r\ncol data_type for a15 \\r\r\ncol low_value for a30 \\r\r\ncol high_value for a30 \\r\r\ncol id for 999 \\r\r\ncol histogram for a15 \\r\r\nselect owner\, table_name\, column_id id\, column_name\, data_type\,num_distinct\, density\,NUM_NULLS\, histogram\, low_value\, high_value \\r\r\nfrom dba_tab_columns \\r\r\nwhere table_name=upper('&table') \\r\r\norder by column_id; \\r\r\n,column_info,,
 SEND,set linesize 1000\\r\r\nset pagesize 900\\r\r\ncol username for a10\\r\r\ncol event for a35\\r\r\ncol program for a20 truncate\\r\r\ncol module for a25\\r\r\ncol cpu_p for 99.99\\r\r\nselect ta.*\,round(ta.cpu_time/tb.total_cpu * 100\,1) cpu_usage from\\r\r\n(select s.username\,s.program\,s.module\,s.action\,s.event\,s.sql_id\,sum(trunc(m.CPU)) CPU_TIME\,count(*) sum\\r\r\n        --\,sum(m.PHYSICAL_READS) P_READ\,sum(LOGICAL_READS) L_READ\,\\r\r\n  from v$sessmetric m \,v$session s\\r\r\nwhere ( m.PHYSICAL_READS >100\\r\r\n       or m.CPU>100\\r\r\n       or m.LOGICAL_READS >100)\\r\r\n       and m.SESSION_ID = s.SID\\r\r\n       and m.SESSION_SERIAL_NUM = s.SERIAL#\\r\r\n       and s.status = 'ACTIVE'\\r\r\n       and username is not null\\r\r\ngroup by s.username\,s.program\,s.module\,s.action\,s.event\,s.sql_id\\r\r\norder by 5 desc) ta\,(select sum(cpu) total_cpu from v$sessmetric) tb\\r\r\nwhere rownum < 11;\\r,cpu sql,,
Z:"数据库"=0000000a
 SEND,Select * FROM DBA_DATA_FILES; \\r,查看数据文件,,
 SEND,ps -ef|grep -E 'pmon|tns|db2sysc|informix'|grep -v grep|sort\\r,查询数据库,,
 SEND,cd $ORACLE_HOME/dbs \\r\r\nls -l spfile*  \\r,查看spfile,,
 SEND,cd $ORACLE_HOME/network/admin \\r\r\nls -l \\r,监听器配置文件,,
 SEND,export ORACLE_SID=,export ORACLE_SID=,,
 SEND,sqlplus 'dbadm/1b776521' \\r\\p\r\nset linesize 3000\\r\r\nset pagesize 300\\r\r\nselect userenv('language') from dual;\\r\r\nselect value from v$nls_parameters where PARAMETER like '%CHARACTERSET%';\\r\r\nselect name\,value from v$pgastat where name in ('aggregate PGA target parameter'\,'aggregate PGA auto target'\,'total PGA inuse'\,'total PGA allocated'\,'over allocation count'\,'extra bytes read/written'\,'cache hit percentage');\\r\r\nshow parameter sga;\\r\r\nshow parameter db_cache_size;\\r\r\nshow parameter pool;\\r\r\nshow parameter pga;\\r\r\nselect dbid from v$database;\\r\r\nshow parameter db_unique;\\r\r\nshow parameter instance_name;\\r\r\nshow parameter service_names;\\r\r\nshow parameter db_name;\\r\r\nshow parameter _listener\\r\r\nset time on\\r\r\nset timing on\\r\r\nset wrap off\\r\r\nselect  startup_time\,status\,logins\,database_status  from v$instance;\\r\r\nset sqlprompt "_user'@'_connect_identifier>"\\r,sqlplus dbadm,,
 SEND,db2 get db cfg for freight \\r,db2 参数,,
 SEND,ftp 10.193.16.86\\r\\p\r\nftpuser\\r\\p\r\ncewde3frtg\\r,ftp,,
 SEND,SELECT * FROM registry$history;\\r,registry$history dba,,
 SEND,select name\, ISSES_MODIFIABLE\,ISSYS_MODIFIABLE\,ISINSTANCE_MODIFIABLE\,ISMODIFIED from v$parameter where name='&pname';\\r,parameter,,
Z:"数据库2"=0000000a
 SEND,SET VERIFY OFF \\r\r\nCOLUMN parameter      FORMAT a37 \\r\r\nCOLUMN description    FORMAT a30 WORD_WRAPPED \\r\r\nCOLUMN session_value  FORMAT a10 \\r\r\nCOLUMN instance_value FORMAT a10 \\r\r\n \r\nSELECT a.ksppinm AS parameter\, \\r\r\n       a.ksppdesc AS description\, \\r\r\n       b.ksppstvl AS session_value\, \\r\r\n       c.ksppstvl AS instance_value \\r\r\nFROM   x$ksppi a\, \\r\r\n       x$ksppcv b\, \\r\r\n       x$ksppsv c \\r\r\nWHERE  a.indx = b.indx \\r\r\nAND    a.indx = c.indx \\r\r\nAND    a.ksppinm LIKE '/_%' ESCAPE '/' \\r\r\nAND    a.ksppinm = DECODE(LOWER('&1')\, 'all'\, a.ksppinm\, LOWER('&1')) \\r\r\nORDER BY a.ksppinm; \\r\r\n\\r\r\n,hidden parameter,,
 SEND,set linesize 200 \\r\r\nset pagesize 900 \\r\r\nselect object_name\, owner\, status from dba_objects where owner=upper('&user') and object_name=upper('&obj');\\r,obj status,,
 SEND,set linesize 3000\\r\r\nset pagesize 300\\r\r\nshow parameter instance_name;\\r\r\nshow parameter db_name;\\r\r\nset time on\\r\r\nset timing on\\r\r\nset sqlprompt "_user'@'_connect_identifier>"\\r,format,,
 SEND,col blocker for a20 \\r\r\ncol blockee for a20 \\r\r\nset linesize 200 \\r\r\nselect\r\n(select username from v$session where sid=a.sid) blocker\,\r\na.sid\, 'is blocking'\,\r\n (select username from v$session where sid=b.sid) blockee\,\r\n  b.sid\r\n   from v$lock a\,v$lock b\r\n  where a.block=1 and b.request>0\r\nand a.id1=b.id1 and a.id2=b.id2;\\r,,,
 SEND,connect dbadm/1b776521,dbadm,,
 SEND,set pagesize 900 linesize 200\\r\r\ncol event for a30 \\r\r\ncol machine for a10 \\r\r\ncol schemaname for a15 \\r\r\ncol sid for 99999 \\r\r\ncol schemaname for a10 \\r\r\ncol blocking_session for 99999 \\r\r\nselect se.sid\,se.serial#\,se.machine\, se.schemaname\,\\r\r\n--se.PREV_SQL_ID\,\\r\r\nse.blocking_session\,logon_time\, event\,se.sql_id\,sq.sql_text \\r\r\nfrom v$sql sq\, v$session se \\r\r\nwhere  \\r\r\nse.sql_id=sq.sql_id \\r\r\nand  \\r\r\nse.sql_hash_value = sq.hash_value \\r\r\nand \\r\r\nse.sql_address = sq.address \\r\r\nand \\r\r\nse.sid=&sid; \\r,current_session,,
 SEND,select * from table(dbms_xplan.display_awr('&1')),display_awr,,
 SEND,select * from table(dbms_xplan.display_cursor('&1'\,null\,'all')),display_cursor,,
 SEND,set linesize 200 pagesize 20000; \\r\r\nset long 99999; \\r\r\nselect 'exec system.cpicit_kill_session('||SID||'\,'||SERIAL#||');' from v$session where sid = &sid; \\r\r\n,kill session,,
 SEND,set linesize 200 \\r\r\ncol username for a13 \\r\r\ncol event for a35 \\r\r\ncol program for a20 truncate \\r\r\ncol cpu_p for 99.99 \\r\r\nselect ta.*\,round(ta.cpu_time/tb.total_cpu * 100\,1) cpu_usage from \\r\r\n(select \\r s.username\,s.program\,s.event\,s.sql_id\,sum(trunc(m.CPU)) CPU_TIME\,count(*) sum \\r\r\n        --\,sum(m.PHYSICAL_READS)  P_READ\,sum(LOGICAL_READS)   L_READ\, \\r\r\n  from v$sessmetric m \,v$session s \\r\r\nwhere ( m.PHYSICAL_READS >100 \\r\r\n       or m.CPU>100 \\r\r\n       or m.LOGICAL_READS >100) \\r\r\n       and m.SESSION_ID = s.SID \\r\r\n       and m.SESSION_SERIAL_NUM = \\r s.SERIAL# \\r\r\n       and s.status = 'ACTIVE' \\r\r\n       and username is not null \\r\r\ngroup by \\r s.username\,s.program\,s.event\,s.sql_id \\r\r\norder by 5 desc) ta\,(select sum(cpu)  \\r total_cpu from v$sessmetric) tb \\r\r\nwhere rownum < 11; \\r,cpu_sql,,
